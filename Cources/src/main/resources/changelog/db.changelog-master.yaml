databaseChangeLog:
  - logicalFilePath: src/main/resources/db/changelog/db.changelog-master.yaml
  - changeSet:
      id: 1
      author: Aliaksei_Basavets
      changes:
        - createTable:
            tableName: courses
            columns:
              - column:
                  name: id
                  type: INT
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: name
                  type: varchar(250)
                  constraints:
                    nullable: false
              - column:
                  name: duration
                  type: INT
                  constraints:
                    nullable: false
              - column:
                  name: price
                  type: DOUBLE
                  constraints:
                    nullable: false
              - column:
                  name: teacher_id
                  type: INT
                  constraints:
                    nullable: false
                    foreignKeyName: teacher_courses
                    referencedTableName: teachers
                    referencedColumnNames: id
      rollback:
        - delete:
            tableName: courses
  - changeSet:
      id: 2
      author: Aliaksei_Basavets
      changes:
        - createTable:
            tableName: teachers
            columns:
              - column:
                  name: id
                  type: INT
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: name
                  type: varchar(250)
                  constraints:
                    nullable: false
              - column:
                  name: age
                  type: INT
                  constraints:
                    nullable: false
      rollback:
        - delete:
            tableName: teachers
  - changeSet:
      id: 3
      author: Aliaksei_Basavets
      changes:
        - createTable:
            tableName: students
            columns:
              - column:
                  name: id
                  type: INT
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: name
                  type: varchar(250)
                  constraints:
                    nullable: false
              - column:
                  name: age
                  type: INT
                  constraints:
                    nullable: false
      rollback:
        - delete:
            tableName: students
  - changeSet:
      id: 4
      author: Aliaksei_Basavets
      changes:
        - createTable:
            tableName: subscriptions
            columns:
              - column:
                  name: id
                  type: INT
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: course_id
                  type: INT
                  constraints:
                    nullable: false
                    foreignKeyName: course_subscription
                    referencedTableName: courses
                    referencedColumnNames: id
              - column:
                  name: student_id
                  type: INT
                  constraints:
                    nullable: false
                    foreignKeyName: student_subscription
                    referencedTableName: students
                    referencedColumnNames: id
      rollback:
        - delete:
            tableName: subscriptions